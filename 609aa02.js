(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{304:function(t,e,n){t.exports={}},313:function(t,e,n){"use strict";n(304)},319:function(t,e,n){"use strict";n.r(e);n(92);var l=n(301),o=n.n(l),c={sampleBits:16,sampleRate:8e3,numChannels:1,compiling:!1},r={data:function(){return{isFpActive:!0,recorder:null,timerEnabled:!1,timerCount:10,isResultShow:!1,result:null}},watch:{timerEnabled:function(t){var e=this;t&&setTimeout((function(){e.timerCount--}),1e3)},timerCount:{handler:function(t){var e=this;t>0&&this.timerEnabled?setTimeout((function(){e.timerCount--}),1e3):(this.recorder&&(this.recorder.stop(),this.recognize()),this.reset())},immediate:!0}},methods:{startRecord:function(){this.timerEnabled?(console.log("stop"),this.recorder.stop(),this.recognize(),this.reset()):(console.log("start"),this.recorder=new o.a(c),this.timerEnabled=!0,this.recorder.start())},reset:function(){this.timerEnabled=!1,this.timerCount=10,this.recorder&&(this.recorder.destroy(),this.recorder=null)},recognize:function(){var t=this,e="";e=this.isFpActive?"https://api.doreso.com/identify":"https://api.doreso.com/humming";var n=new FormData;n.append("file",this.recorder.getWAVBlob()),n.append("sample_size",this.recorder.fileSize),this.$axios.$post(e,n).then((function(e){t.result=e.data,t.isResultShow=!0,console.log(e)})).catch((function(t){console.log(t)}))},uploadFile:function(){this.$refs.upload.click()},openDetailPage:function(){var t="/".concat(this.result.acrid);window.open(t,"_blank")}}},d=(n(313),n(64)),component=Object(d.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-gray-50 h-screen"},[n("div",{staticClass:"w-3/4 flex flex-col mx-auto h-screen "},[n("div",{staticClass:"flex flex-row justify-between mt-6",attrs:{id:"header"}},[n("div",{staticClass:"h-28"},[n("Logo"),t._v(" "),n("span",{staticClass:"doreso-text"},[t._v("Song Finder for Browser")])],1),t._v(" "),n("div",{staticClass:"hidden md:flex md:h-28 inline-flex"},[n("a",{attrs:{target:"_blank",href:"https://microsoftedge.microsoft.com/addons/detail/ejfccgmelcclnoadalcepdmnpgcnglfc"}},[n("InstallEdge")],1),t._v(" "),n("a",{attrs:{target:"_blank",href:"https://chrome.google.com/webstore/detail/dpacanjfikmhoddligfbehkpomnbgblf"}},[n("InstallChrome")],1)])]),t._v(" "),n("div",{staticClass:"h-1/2 md:h-4/6 container flex flex-col mt-6 ",attrs:{id:"container"}},[t.isResultShow&&t.result?n("div",{staticClass:" absolute self-center flex mt-28",staticStyle:{"z-index":"10000"}},[n("div",{staticClass:" md:w-80 bg-white p-6 rounded-md tracking-wide shadow-lg"},[n("strong",{staticClass:"text-xl align-center cursor-pointer absolute top-2 right-4",on:{click:function(e){t.isResultShow=!1}}},[t._v("×")]),t._v(" "),n("div",{staticClass:"flex items-center mb-4"},[n("div",{staticClass:"sm"},[n("h4",{staticClass:"text-xl font-semibold"},[t._v("\n                "+t._s(t.result.title)+"\n              ")]),t._v(" "),n("h5",{staticClass:"font-semibold text-blue-600"},[t._v("\n                "+t._s(t.result.artists)+"\n              ")])])]),t._v(" "),n("div",[n("button",{staticClass:"detail-btn mt-4 mb-4",on:{click:function(e){return t.openDetailPage()}}},[n("span",{staticClass:"text-blue-400"},[t._v("View detail")])])])])]):t._e(),t._v(" "),t.isResultShow&&!t.result?n("div",{staticClass:" absolute self-center flex mt-20 md:mt-28",staticStyle:{"z-index":"10000"}},[n("div",{staticClass:"w-60 md:w-80 bg-white p-6 rounded-md tracking-wide shadow-lg"},[n("strong",{staticClass:"text-xl align-center cursor-pointer absolute top-2 right-4",on:{click:function(e){t.isResultShow=!1}}},[t._v("×")]),t._v(" "),n("div",{staticClass:"flex items-center mb-4"},[n("div",{staticClass:"sm"},[n("div",{staticClass:"mb-2"},[n("ICON",{attrs:{type:"error"}})],1),t._v(" "),n("h4",{staticClass:"text-xl font-semibold"},[t._v("\n                Couldn’t quite catch that.\n              ")]),t._v(" "),n("h5",[t._v("\n                Make sure your device can clearly hear the song and try again\n              ")])])])])]):t._e(),t._v(" "),n("div",{staticClass:"flex flex-row justify-center space-x-4 md:space-x-8 pt-8"},[n("div",[n("a",{staticClass:"underline",class:[{"active-record-text":t.isFpActive},"record-text"],attrs:{href:"#"},on:{click:function(e){t.isFpActive=!t.isFpActive}}},[n("ICON",{staticClass:"inline-block",attrs:{type:"record"}}),t._v(" "),n("span",[t._v("RECORD")])],1)]),t._v(" "),n("div",[n("a",{staticClass:"underline ",class:[{"active-record-text":!t.isFpActive},"record-text"],attrs:{href:"#"},on:{click:function(e){t.isFpActive=!t.isFpActive}}},[n("ICON",{staticClass:"inline-block",attrs:{type:"hum"}}),t._v(" "),n("span",[t._v("HUM/SING")])],1)])]),t._v(" "),n("div",{staticClass:"self-center py-6"},[n("button",{class:{"scale-down-center":t.timerEnabled},on:{click:function(e){return t.startRecord()}}},[n("RecordingButton")],1)]),t._v(" "),n("div",{staticClass:"block md:hidden self-center text-white text-xl font-semibold",class:{hidden:t.timerEnabled}},[t._v("\n        Click to recognize\n      ")]),t._v(" "),n("div",{staticClass:"self-center text-white text-2xl font-semibold",class:[t.timerEnabled?"md:block":"hidden",""]},[t._v("\n        Recognizing...\n      ")]),t._v(" "),n("div",{staticClass:"hidden self-center text-white text-2xl font-semibold",class:[t.timerEnabled?"hidden":"md:block",""]},[n("p",[t._v("\n          Play some music and click the\n        ")]),t._v(" "),n("p",[t._v("\n          button to recognize songs now.\n        ")])])]),t._v(" "),t._m(0)])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-row justify-between footer mt-6",attrs:{id:"footer"}},[n("div",{staticClass:"text-gray-500"},[n("div",[t._v("contact@aha-music.com")]),t._v(" "),n("div",{staticClass:"underline"},[n("a",{attrs:{href:"/privacy-policy"}},[t._v("Privacy Policy")])])])])}],!1,null,"73524544",null);e.default=component.exports;installComponents(component,{Logo:n(298).default,InstallEdge:n(306).default,InstallChrome:n(299).default,ICON:n(295).default,RecordingButton:n(300).default})}}]);